<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>MySQL on 随记</title><link>/tags/mysql/</link><description>Recent content in MySQL on 随记</description><generator>Hugo</generator><language>zh-cn</language><lastBuildDate>Fri, 03 Apr 2020 22:04:14 +0800</lastBuildDate><atom:link href="/tags/mysql/index.xml" rel="self" type="application/rss+xml"/><item><title>使用 Debezium 复制 MySQL binlog 到 Kafka</title><link>/posts/use-debezium-to-replicate-mysql-binlog/</link><pubDate>Fri, 03 Apr 2020 22:04:14 +0800</pubDate><guid>/posts/use-debezium-to-replicate-mysql-binlog/</guid><description>&lt;p&gt;&lt;a href="https://debezium.io/"&gt;Debezium&lt;/a&gt; 是一个支持 Kafka Connect 框架的数据库变更捕获(Change Data Capture)服务，它可以消费 MySQL、PostgreSQL、SQL Server、MongoDB 的 binlog 写入到 Apache Kafka 里，下文是针对 MySQL 的简单配置步骤。&lt;/p&gt;</description></item><item><title>魔改了下 MariaDB 支持 JSON binary</title><link>/posts/support-json-binary-in-mariadb/</link><pubDate>Sat, 27 Jul 2019 17:48:55 +0800</pubDate><guid>/posts/support-json-binary-in-mariadb/</guid><description>&lt;p&gt;Oracle MySQL 的 JSON 数据类型在存储时用的紧凑的二进制格式，MariaDB 则傲娇的直接存原始的 JSON 文本串，从 &lt;a href="https://mariadb.com/kb/en/library/mariadb-vs-mysql-compatibility/"&gt;MariaDB 10.2 开始兼容 MySQL 5.7&lt;/a&gt;，如今 MariaDB 10.4 稳定版都发布了，依然还是&lt;a href="https://mariadb.com/kb/en/library/json-data-type/"&gt;不支持 Oracle MySQL 的 JSON 类型&lt;/a&gt;：&lt;/p&gt;</description></item><item><title>ProxySQL 整数溢出</title><link>/posts/proxysql-integer-overflow/</link><pubDate>Sun, 24 Mar 2019 18:03:37 +0800</pubDate><guid>/posts/proxysql-integer-overflow/</guid><description>&lt;p&gt;最近学习了下 &lt;a href="https://proxysql.com/"&gt;ProxySQL&lt;/a&gt;，在非生产环境大致体验了下，感觉不错，于是小流量上了生产环境，然而居然发现有个奇怪的现象，客户端大概率连不上 MySQL 服务器，报告如下错误：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-txt" data-lang="txt"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Max connect timeout reached while reaching hostgroup 3034 after 10000ms
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;非常郁闷，网上搜索了下，跟我遇到的情况都不符合，我确认了 &lt;code&gt;runtime_mysql_servers&lt;/code&gt; 表中所有 server 都是 ONLINE 状态，在 &lt;code&gt;monitor.mysql_server_connect_log&lt;/code&gt;, &lt;code&gt;monitor.mysql_server_ping_log&lt;/code&gt; 和 &lt;code&gt;monitor.mysql_server_replication_lag_log&lt;/code&gt; 几个表中的检查都非常正常，直连 MySQL 也非常快。&lt;/p&gt;</description></item></channel></rss>